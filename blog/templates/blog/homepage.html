<!DOCTYPE HTML>
{% load static %}
{% load markdown_deux_tags %}
<html>
	<head>
	  <title>DarkRoamer</title>
	  <meta name="description" content="website description" />
	  <meta name="keywords" content="website keywords, website keywords" />
	  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	  <link rel="stylesheet" type="text/css" href="{% static "css/style.css" %}" />
      <link rel="icon" href="{% static "my_images/icon.png" %}">
	  <!-- modernizr enables HTML5 elements and feature detects -->
	  <script type="text/javascript" src="{% static "js/modernizr-1.5.min.js" %}"></script>
	</head>
	<body>
		<div id="main">
			<header>
			<!-- SVG -->
			<div id="mysvg">
			<svg width="731.000000pt" height="298.000000pt" viewBox="0 0 731.000000 298.000000"
 preserveAspectRatio="xMidYMid meet">
		<pattern id="one" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-13500,-14900)  scale(9,-9)">
            <image xlink:href="{% static "my_images/lightning.gif" %}" x="0" y="0" width="700" height="250" preserveAspectRatio="none" />
        </pattern>
		<pattern id="two" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-13500,-14900)  scale(9,-9)">
            <image xlink:href="{% static "my_images/lightning4.gif" %}" x="0" y="0" width="700" height="250" preserveAspectRatio="none" />
        </pattern>
        <pattern id="three" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-10000,-11700)  scale(7.4,-7.4)">
            <image xlink:href="{% static "my_images/cherry/cherry1.gif" %}" x="0" y="0" width="547" height="311" preserveAspectRatio="none" />
        </pattern>
        <pattern id="four" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-10000,-11700)  scale(7.4,-7.4)">
            <image xlink:href="{% static "my_images/cherry/cherry2.gif" %}" x="0" y="0" width="547" height="311" preserveAspectRatio="none" />
        </pattern>
        <pattern id="five" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-10000,-11700)  scale(7.4,-7.4)">
            <image xlink:href="{% static "my_images/cherry/cherry3.gif" %}" x="0" y="0" width="547" height="311" preserveAspectRatio="none" />
        </pattern>
        <pattern id="six" patternUnits="objectBoundingBox" width="1" height="1" patternTransform="translate(-10000,-11700)  scale(7.4,-7.4)">
            <image xlink:href="{% static "my_images/cherry/cherry4.gif" %}" x="0" y="0" width="547" height="311" preserveAspectRatio="none" />
        </pattern>
        
        
		<g class="inner one" id="inner_one" transform="translate(0.000000,298.000000) scale(0.100000,-0.100000)"
		fill="#000000" stroke="none">
		<path d="M1567 2691 c-3 -15 16 -36 85 -91 49 -39 91 -77 93 -83 5 -16 105
		-925 105 -957 0 -23 -14 -31 -137 -86 -111 -48 -139 -64 -141 -82 -2 -12 0
		-22 5 -22 5 0 143 11 308 25 443 36 550 69 696 214 129 129 176 265 166 485
		-5 129 -21 191 -73 286 -52 95 -171 188 -279 219 -28 8 -788 111 -820 111 -1
		0 -5 -9 -8 -19z m630 -365 c49 -96 50 -214 2 -312 -20 -42 -94 -134 -108 -134
		-4 0 3 105 15 233 13 127 23 247 23 266 1 34 1 34 22 15 12 -10 32 -41 46 -68z M4900 2675 c-140 -13 -256 -24 -257 -24 -13 -4 3 -41 28 -67 l31 -33
		11 -510 10 -510 -51 -59 c-44 -50 -50 -62 -39 -76 11 -15 29 -16 202 -6 319
		17 335 19 335 41 0 10 -15 28 -33 40 -30 20 -35 31 -69 163 -20 77 -34 143
		-32 146 3 2 65 -57 140 -131 l134 -134 -25 -75 c-40 -117 -35 -118 187 -10
		102 49 188 97 192 105 4 10 -57 95 -182 253 -103 130 -191 242 -195 248 -4 7
		57 63 158 145 165 133 190 163 143 173 -13 3 -88 10 -168 16 -80 6 -168 14
		-196 17 -63 7 -72 -7 -47 -76 l16 -47 -73 -97 c-40 -54 -74 -96 -76 -94 -2 2
		14 115 35 251 l39 248 53 47 c38 34 51 52 46 64 -8 20 8 21 -317 -8z M3399 2334 c-10 -12 -6 -68 8 -119 4 -13 -16 0 -56 37 -196 182 -433
		75 -512 -230 -26 -103 -29 -284 -4 -367 34 -117 89 -199 163 -243 40 -23 58
		-27 122 -27 93 0 167 31 234 99 50 49 53 45 35 -33 -16 -72 -9 -74 163 -46 81
		13 152 26 158 30 18 11 11 28 -26 66 l-36 37 -9 249 c-4 136 -8 289 -9 340 l0
		91 45 26 c79 47 61 60 -118 83 -120 16 -149 17 -158 7z m-96 -332 c23 -32 51
		-77 62 -101 19 -42 19 -44 0 -57 -82 -60 -188 73 -155 195 10 37 13 40 31 31
		11 -6 39 -37 62 -68z M3930 2316 c-85 -6 -161 -15 -167 -19 -25 -16 -13 -34 38 -57 l50
		-24 -6 -85 c-3 -48 -12 -212 -20 -366 l-15 -279 -35 -36 c-25 -26 -34 -42 -29
		-54 6 -16 15 -17 68 -12 34 3 133 11 221 17 88 6 163 13 167 15 16 10 7 37
		-23 75 -131 166 -61 410 118 409 54 -1 115 -31 164 -84 46 -48 74 -58 83 -28
		2 9 28 129 56 266 43 203 50 250 39 257 -22 14 -25 12 -63 -33 l-36 -42 -28
		27 c-38 37 -110 67 -159 67 -60 0 -137 -32 -194 -80 -54 -45 -54 -45 -38 11
		12 40 1 71 -25 67 -6 0 -81 -6 -166 -12z M1853 1298 c-120 -19 -203 -36 -203 -42 0 -6 29 -27 65 -46 36 -19
		65 -39 65 -45 0 -5 -14 -147 -31 -315 l-30 -305 -30 -26 c-16 -14 -29 -30 -29
		-36 0 -14 374 -72 387 -60 3 4 -6 21 -21 39 -77 96 -74 87 -78 186 -3 62 -1
		91 6 89 6 -2 48 -64 94 -138 l84 -133 -16 -34 c-19 -40 -20 -52 -3 -52 23 -1
		307 124 306 135 0 5 -54 57 -119 115 -65 58 -116 108 -112 111 4 4 23 12 43
		18 53 17 118 78 145 135 20 42 24 68 24 142 0 145 -34 215 -127 260 -80 40
		-174 40 -420 2z M2650 1081 c-78 -25 -136 -78 -172 -156 -20 -43 -23 -66 -23 -165 0
		-105 2 -119 27 -166 32 -61 92 -117 143 -134 21 -7 68 -10 110 -8 62 3 80 8
		117 33 101 71 144 172 135 314 -11 181 -96 280 -247 287 -36 2 -76 0 -90 -5z M3182 1083 c-32 -6 -84 -62 -110 -117 -34 -71 -45 -138 -40 -251 3
		-90 7 -109 33 -161 39 -76 80 -104 151 -104 68 0 100 13 147 58 l39 37 -7 -48
		c-9 -56 -9 -56 125 -32 47 8 87 15 89 15 3 0 -8 13 -23 29 -32 34 -32 35 -40
		334 l-4 168 34 22 c19 12 34 25 34 28 0 5 -159 29 -198 29 -18 0 -20 -5 -15
		-42 l6 -43 -35 33 c-48 46 -107 60 -186 45z M3713 1076 c-46 -7 -85 -15 -89 -18 -3 -4 7 -13 24 -22 39 -20 42
		-38 42 -294 l0 -216 -37 -38 c-20 -21 -34 -41 -30 -44 6 -7 246 11 253 19 2 2
		-6 21 -17 43 -39 75 -7 211 45 191 26 -10 41 -81 27 -128 -7 -23 -10 -43 -7
		-46 7 -7 179 -23 184 -18 3 2 -1 18 -7 36 -17 49 -13 110 9 147 24 39 44 41
		66 7 26 -39 14 -131 -26 -202 l-32 -56 82 7 c116 9 170 18 170 26 0 3 -16 14
		-36 23 -28 14 -34 22 -29 35 56 129 59 145 60 277 0 115 -3 136 -23 182 -31
		68 -61 94 -114 100 -57 6 -106 -21 -135 -71 l-21 -39 -15 35 c-37 87 -120 102
		-194 35 l-23 -20 0 31 c0 37 3 36 -127 18z M4607 1076 c-116 -43 -187 -168 -187 -330 0 -87 11 -128 49 -188 45
		-71 104 -101 212 -106 96 -5 161 11 224 54 l36 24 16 -40 c9 -22 22 -40 30
		-40 13 0 13 19 -3 208 -6 69 -18 78 -48 33 -28 -41 -94 -81 -133 -81 -19 0
		-50 8 -71 17 l-37 16 63 7 c223 24 276 323 74 413 -57 25 -175 32 -225 13z M5131 1079 c-57 -5 -107 -12 -110 -15 -3 -4 2 -11 12 -18 52 -31 49
		-13 36 -281 -11 -246 -12 -250 -37 -277 -14 -15 -23 -30 -20 -34 10 -9 298 8
		298 18 0 4 -11 25 -25 46 -25 38 -48 120 -41 144 2 7 7 25 10 40 8 34 52 87
		83 99 33 12 104 -19 134 -60 27 -37 47 -40 54 -8 11 45 65 332 65 345 0 20
		-19 14 -44 -15 l-23 -27 -32 23 c-63 45 -151 37 -216 -21 l-34 -29 10 33 c12
		43 11 48 -3 47 -7 -1 -60 -6 -117 -10z"/>
		</g>
		</svg>
		</div>
        <audio id="bgMusic">
            <source = src="{% static "bgm/bgm.mp3" %}" type="audio/mp3">
            <source = src="{% static "bgm/bgm.ogg" %}" type="audio/ogg">
        </audio> 
      <nav>
        <div id="menu_container">
          <ul class="sf-menu" id="nav">
            <li><a href="{%url 'blog:blog_homepage' %}">Home  </a></li>
            <li><a href="{%url 'note_page'%}">Message Board</a></li>
            <li><a href="{%url 'archive_page'%}">Archive</a></li>
            <li><a href="{%url 'about_page'%}">About</a></li>
            <li><a href="{%url 'feed' %}">Feed</a></li>
          </ul>
        </div>
      </nav>
		</header>

		<script type="text/javascript">
		  thunderShow();
    
          //setDOMImage();

          var audio = document.getElementById("bgMusic");
          audio.play();
          audio.pause();

          var isStopCherry = false;

		  //mouse hovering function
          var mysvg = document.getElementById('inner_one');
		  setMouseoverListener();

          var morseArr = [];
          var morseArrStart = [0,0,1,0];//F:.._.  -->0010
          var morseArrStop = [1,1,0,1]; //Q:--.-
          var morseNum = 4;
          var clickTimer = null; //for distinguish onclick and ondbclick

          setClickListener();

          function setMouseoverListener(){
              mysvg.onmouseover = function (){
                isStopCherry = true;
                audio.pause();
                audio.currentTime = 0;
			    twoImg();
		        setTimeout(oneImg, 2000);
		      }
          }

          function setClickListener(){
            mysvg.onclick = function(){
                if(clickTimer) {
                  window.clearTimeout(clickTimer);f
                  clickTimer = null;
                }
                clickTimer = window.setTimeout(function(){
                    //alert("你单击了我");
                    morseArr.push(0);
                    if(judgeMorse() == 1){
                        cherryShow();
                        morseArr = [];  //if capture the correct state, reset it.
                    }
                    else if(judgeMorse() == 2){
                        cherryQuit();
                        morseArr = [];  //if capture the correct state, reset it. 
                    }
                    
                }, 300);
              }

              mysvg.ondblclick = function(){
                  if(clickTimer) {
                      window.clearTimeout(clickTimer);
                      clickTimer = null;
                  }
                 //alert("你双击了我");
                 morseArr.push(1);
                 if(judgeMorse() == 1){
                    cherryShow();
                    morseArr = [];
                 }
                 else if(judgeMorse() == 2){
                    cherryQuit(); 
                    morseArr = [];
                 }      
              }
          }
          
          function judgeMorse(){
            var morseArrSlice = morseArr.slice(-morseNum);
            var arrStr = morseArrSlice.toString();
            var arrStrStart = morseArrStart.toString();
            var arrStrQuit = morseArrStop.toString();
            if(arrStr == arrStrStart){
                return 1;
            }
            else if(arrStr == arrStrQuit){
                return 2;
            }
            else{
                return 0;
            }
          }
            function cherryShow(){
                isStopCherry = false;
                audio.play();
                threeImg();
            }

            function cherryQuit(){
                audio.pause();
                audio.currentTime = 0;
                thunderShow();
            }

            var DOMcnt = 1;
            function setDOMImage(){
                var svgdiv = document.getElementById('mysvg');
                var svgdivBackHTML = svgdiv.innerHTML;    //for recover
                svgdiv.innerHTML = '<img id="svgslides" src="/static/my_images/cherry/main.gif"  alt="a beauty" />'
                setTimeout(function() { 
                    audio.pause();
                    audio.currentTime = 0;
                    svgdiv.innerHTML = svgdivBackHTML; 
                    thunderShow();
                    isStopCherry = false;
                    mysvg = document.getElementById('inner_one');
                    setMouseoverListener();
                    setClickListener();       
                },73000);        
            }

            function thunderShow(){
                oneImg();
		        setTimeout(twoImg, 700);
		        setTimeout(oneImg, 2000);
            }            

		  function oneImg() {
			document.querySelector('.inner').setAttribute("class", "inner one");
		  }

		  function twoImg() {
			document.querySelector('.inner').setAttribute("class", "inner two");
		  }
            
          function threeImg() {
            if(isStopCherry == false){
                document.querySelector('.inner').setAttribute("class", "inner three");
                setTimeout(fourImg,5800);
            }
		  }

          function fourImg() {
            if(isStopCherry == false){
			    document.querySelector('.inner').setAttribute("class", "inner four");
                setTimeout(fiveImg,8800);
            }
		  }

          function fiveImg() {
            if(isStopCherry == false){
			    document.querySelector('.inner').setAttribute("class", "inner five");
                setTimeout(sixImg,5900);
            }
		  }
          function sixImg() {
            if(isStopCherry == false){
			    document.querySelector('.inner').setAttribute("class", "inner six");
                setTimeout(setDOMImage,4700);
            }
		  }

        </script>

	  <style  type="text/css">

			.one {
			  fill: url(#one);
			}

			.two {
			  fill: url(#two);
			}

			.three {
			  fill: url(#three);
			}

			.four {
			  fill: url(#four);
			}

			.five {
			  fill: url(#five);
			}

			.six {
			  fill: url(#six);
			}

			.seven {
			  fill: url(#seven);
			}

			.static {
			  fill: url(#static);
			}
		</style>

			<div id="site_content">
				<div class="content">
					{% if articles_this_page %}
						{% for article in articles_this_page %}
							<h1><a href="{% url 'blog:article_page' article.slug %}">{{ article.title_text | markdown }}</a></h1>
                            {% if article.isabstract %}
							    {{article.abstract | markdown}}<a href="{% url 'blog:article_page' article.slug %}"> ...Read More</a>
                            {% else %}
                                <p>{{article.abstract | markdown}}</p>
                            {% endif %}
                            <p class="article_date">Tagged under: {{article.tags.all|join:", "}} | Date: {{article.pub_date.year}}.{{article.pub_date.month}}.{{article.pub_date.day}}</p>
						{% endfor %}
					{% else %}
						<p>No article are available.</p>
					{% endif %}
				</div>
                <div class="page_navigate">
                    {% if articles_this_page.has_previous %}
                        <a class="previous_page" href="{% url 'blog:blog_page' articles_this_page.previous_page_number %}"><< 上一页</a>
                     {% endif %}
                    {% if articles_this_page.has_next %}
                        <a class="next_page" href="{% url 'blog:blog_page' articles_this_page.next_page_number %}">下一页 >></a>
                    {% endif %}
                </div>
			</div>
			<!--
			<div id="hover_box">
					<p>About me</p>
			</div>
			<div id="sidebar_container">
				<div class="sidebar">
				  <h3>About me:</h3>
				  <p>Email:bknieven@gmai.com</p>
				  <p>profile:a student</p>
				</div>
			</div>
			-->
			<div id="scroll">
				<a title="Scroll to the top" class="top" href="#"><img src="{% static "images/top.png" %}" alt="top" /></a>
			</div>
			<footer>
           
                  <p><a href="{% url 'feed' %}"><img src="{% static "images/rss.png" %}" alt="rss" /></a></p>
				  <p>Copyright &copy; a.darkroamer@gmail.com | <a href="http://www.css3templates.co.uk">design from css3templates.co.uk</a></p>
			</footer>
		</div>
		

	</body>
</html>
